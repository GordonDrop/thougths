# e2e

## Test Driven Design

Test -> Red -> Green -> Refactor until Green

Этап Test - есть по сути планирование

## Пирамида обеспечения качества

По версии климова
1. e2e - ui тесты, конфликты каких-то модулей. С эмуляцией брузера
2. Integration тесты - поведение модулей в связке.
3. Unit-тесты - поведение одного модуля, ост заглушки. Описание бизнес логики одного модуля.
4. Стат типизция

Немного сорсов:

- https://martinfowler.com/bliki/TestPyramid.html
- https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html

По фаулеру

1. ui
2. service
3. unit

Основной смысл, что тестов на нижнем уровне должны быть больше, чем на верхнем. Средний уровень может предоставить те же преимущества, что и  e2e, но без сложностей работы c UI фреймворками

## Why e2e?

Pros
- тестирование бизне логики по принципу черного ящика
- framework agnostic

Cons
- хрупкие тесты
- асинхроность -> нестабильность

## Парадигмы

web driver vs js injection

## Тестирование

Общение браузера с сервером.

Идея трех A: 
- arrange - Подготовка, 
  - загрузка фикстур. В иделе нужен сброс фикстур перед каждым тестом, так как тесты не должны зависеть друг от друга
  - параллелизация требует несклько серверов, так как несколько браузером могут сильно шатать сервер и коверкать фикстуры
  - в итоге нужно: наличие фикстур, механизм их доставки на сервер и возможност сборки проекта под разные окружения
- act -
- assert